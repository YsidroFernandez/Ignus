<div [@routerTransition]>
    <app-page-header [heading]="'Solicitud de Servicio'" [icon]="'fa-edit'"></app-page-header>

    <div class="col col-sm-12">
        <div class="form-control">
            <div class="row">
                <div class="col col-sm-6">
                    <div class="form-group"><label class="ng-tns-c12-9" for="typeservice">Tipo Servicio</label>
                        <select class="form-control" name="typeservice" id="typeservice" required [(ngModel)]="solicitud.TypeServiceId">
                            <option *ngFor="let type of typeservice" [value]="type.id">{{type.name}}</option>
                        </select>
                    </div>
                </div>
                <div class="col col-sm-6">
                    <div class="form-group"><label class="ng-tns-c12-9" for="fechapreferencial">Fecha Preferencial</label>
                       <!--<input name="fechapreferencial" formControlName="fechareferencial" type="text" class="form-control"
                            placeholder="Hoy" [bsConfig]="datePickerConfig" bsDatepicker autocomplete="off" required
                            [(ngModel)]="solicitud.wishDate">--> 
                            <input name="firmDate" [(ngModel)]="solicitud.wishDate" name="firmDate" [bsConfig]="datePickerConfig"
                        type="text" class="form-control" placeholder="Fecha de la Firma*" bsDatepicker autocomplete="off"
                        required>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <div class="row mb-3">
            <div class="form-control">
            <div class="row">
                <div class="col col-sm-8">
                    <div class="form-group">
                        <b><label>Inmueble</label></b>
                    </div>
                </div>
                <div class="col col-sm-4">
                    <div class="row">
                        <div class="col col-sm-9">
                            <input class="form-control mr-sm-2" type="text" placeholder="Buscar..." aria-label="Search">
                        </div>
                        <div class="col col-sm-3">
                            <button style="background: #1AB394; border-radius: 100%;font-size:24px; height: 40px; width: 40px;">
                                <i style="color: white" class="fa fa-search" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col col-sm-6">
                    <div class="form-group">
                        <label for="typeproperty">tipo de inmueble</label>
                        <select class="form-control" name="typeproperty" id="typeproperty" [(ngModel)]="solicitud2.typeproperty"
                            #typeproperty="ngModel">
                            <option *ngFor="let tp of typeproperties" [value]="tp.id">{{tp.name}}</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div *ngFor="let te of typespecifications" [id]="te.id">
                    
                <div class="row">
                        <div class="col col-sm-12">
                        <div class="form-control">
                    <div class="col col-sm-12">
                        <b><label>{{te.name}}</label></b>
                    </div>
                    <br>
                                        
                    
                    <div class="col col-sm-6" *ngFor="let esp of te.specifications" [id]="esp.id">
                        <div class="form-group"><label *ngIf="esp.type!='checkbox'" class="ng-tns-c12-9" [for]="esp.name">{{esp.name}}</label>
                            <input [type]="esp.type" [name]="esp.name" [value]="esp.name"><br>
                        </div>
                    </div>
            
                </div>
            </div>
                <br>
            </div>
        </div>
        <div class="row">
            <div class="col col-sm-12">
                <div class="row">
                        <div class="col col-sm-8">
                            <div class="form-group">
                                <b><label>Ubicacion</label></b>
                            </div>
                        </div>
        
        
                        <div class="col col-sm-6">
                            <div class="form-group">
                                <label for="tipos">Estado</label>
                                <select class="form-control" name="state" id="state" [(ngModel)]="solicitud2.state"
                                    #estado="ngModel" (change)="loadmunicipality(solicitud2.state)">
                                    <option *ngFor="let est of states" [value]="est.id">{{est.name}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="col col-sm-6">
                            <div class="form-group">
                                <label for="municipality">Municipios</label>
                                <select class="form-control" name="municipality" id="municipality" [(ngModel)]="solicitud2.municipality"
                                    #municipality="ngModel" (change)="loadparish(solicitud2.municipality)">
                                    <option *ngFor="let mun of municipalities" [value]="mun.id">{{mun.name}}</option>
                                </select>
                            </div>
                        </div>
        
        <div class="col col-sm-6">
                    <div class="form-group"><label class="ng-tns-c12-9" for="parish">Parroquia</label>
                        <select class="form-control" name="parish" id="parish" [(ngModel)]="solicitud2.parish" required>
                            <option *ngFor="let parish of parishes" [value]="parish.id">{{parish.name}}</option>
                        </select>
                    </div>
                </div>
                        <!--
                    <div class="col col-sm-6">
                    <div class="form-group">
                        <label for="pais">Pais</label>
                        <select class="form-control" name="pais" id="paises"  [(ngModel)]="solicitud2.inmueble.direccion.pais" #pais="ngModel" (change)="cargarestados()">
                            <option *ngFor="let pais of paises"value="pais">{{pais}}</option>
                        </select>
                    </div>
                </div>
                <div class="col col-sm-6">
                    <div class="form-group">
                        <label for="nombre">Municipio</label>
                        <select class="form-control" name="municipio" id="municipio" [(ngModel)]="solicitud2.direccion.municipio" #municipio="ngModel">
                            <option *ngFor="let mun of municipios" value="mun">{{mun}}</option>
                        </select>
                    </div>
                </div>
                
                <div class="col col-sm-6">
                    <div class="form-group"><label class="ng-tns-c12-9" for="descripcion">Parroquia</label>
                        <select class="form-control" name="horas" id="tiposolicitud" required>
                            <option value="1">Concepción</option>
                            <option value="2">Catedral</option>
                            <option value="3">Juan de Villegas</option>
                            <option value="4">Unión</option>
                            <option value="5">Tamaca</option>
                            <option value="6">El Cují</option>
                        </select>
                    </div>
                </div> -->
                            <div class="col col-sm-12">
                                <label class="ng-tns-c12-9" for="referencia">Referencia</label>
                                <textarea class="form-control ng-untouched ng-pristine ng-valid" type="text" id="referencia"
                                    required style="width: 700px; height: 200px; "></textarea>
                            </div>
                        </div>
                    </div>
        </div>
        <div class="row">
            <div class="col col-sm-12">
                <div class="form-group">
                    <label class="ng-tns-c12-9" for="description">Descripcion del Inmueble</label>
                    <textarea id="description" class="form-control ng-untouched ng-pristine ng-valid" type="text" [(ngModel)]="solicitud2.description"
                        #description="ngModel" required style="width: 700px; height: 200px; "></textarea>
                </div>
            </div>
        <div class="row">
            <div class="col-3">
            </div>
            <div class="col-6">

                <button type="button" class="btn btn-outline-secondary" style="background: #1AB394; color: white"
                    (click)="limpiar()">Limpiar</button>

                <button type="button" class="btn btn-outline-secondary" style="background: #1AB394; color: white"
                    (click)="enviar()">Enviar</button>
            </div>
        </div>
    

</div>